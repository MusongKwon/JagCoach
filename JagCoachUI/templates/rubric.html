{% extends "base.html" %}
{% block title %}JagCoach â€“ Rubric{% endblock %}

{% block content %}
  <section class="max-w-3xl mx-auto text-center px-4 py-12">
    <h2>Evaluation with Rubric</h2>
    <p class="text-gray-400 mt-2">
      Upload your rubric to begin evaluation.
    </p>
    <label for="fileInput" class="button mt-6 inline-block">Upload Rubric</label>
    <input type="file" id="fileInput" class="hidden" accept=".csv" />
    <p id="fileName" class="text-sm text-green-400 mt-2 italic"></p>
  </section>

  <div class="max-w-5xl mx-auto px-4 grid md:grid-cols-2 gap-6 pb-12">
    <!-- Transcript Panel -->
    <div class="panel">
      <h3 class="font-bold mb-2">Transcript</h3>
      <p id="transcriptText">{{ transcript }}</p>
    </div>
  
    <!-- Evaluation Panel -->
    <div class="panel" id="evaluationContainer">
      <h3>Evaluation</h3>
      <p id="customEvaluationText">Upload a rubric to begin analysis.</p>
      <div class="evaluation-loader-wrapper">
        <div id="evaluationSpinner" class="loader hidden"></div>
      </div>
    </div>
  </div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/rubric.js') }}"></script>
{% endblock %}